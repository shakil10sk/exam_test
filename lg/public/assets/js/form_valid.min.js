function getLocation(e,t=null,n=null,a=null,i=null,r=null){let o=$("meta[name=url]").attr("content"),s="";s=3==r?"উপজেলা/থানা":"পোস্ট অফিস",$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"get",url:o+"/geo/code/get",data:{id:e,type:r},success:function(e){$("#"+i).val(s),$("#"+t).val(e.name),$("#"+a).html('<option value="" id="'+n+'">চিহ্নিত করুন</option>'),e.upzilla.forEach((e=>{$("#"+n).after("<option value='"+e.id+"'>"+e.en_name+"</option>")}))},error:function(e){alert("error occur")}})}function form_location(e,t=null,n=null){let a=$("meta[name=url]").attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"get",url:a+"/geo/code/get",data:{id:e,type:n},success:function(e){var t="<option value=''>সিলেক্ট করুন</option>";e.upzilla.forEach((e=>{t+="<option value='"+e.id+"'>"+e.bn_name+"</option>"})),$("#app_upazila_id").html(t)},error:function(e){alert("error occur")}})}function app_union(e,t=null){let n=$("meta[name=url]").attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"get",url:n+"/geo/code/get_union",data:{id:e},success:function(e){var t="<option value=''>সিলেক্ট করুন</option>";e.union.forEach((e=>{t+="<option value='"+e.union_code+"'>"+e.bn_name+"</option>"})),$("#union-id").html(t)}})}$(document).ready((function(){let e=$("meta[name=path]").attr("content"),t=$("meta[name=url]").attr("content"),n=["nagorik","death","obibahito","punobibaho","ekoinam","sonaton","prottyon","nodibanga","character","vumihin","yearlyincome","protibondi","onumoti","voter","onapotti","rastakhonon","warish","family","trade","bibahito"],a="",i="";function r(e,t){""==t?($("#genderErr").css({border:"1px solid red","border-radius":"4px","padding-top":"10px"}),$("#gender_status").append('<label class="text-danger errMess">\n        অনুগ্রহ করে লিঙ্গ নির্বাচন করুন\n      </label>')):2==e&&1==t?($("#wife").show(),$("#wife_name_bn").attr("required","required"),$("#husband").hide(),$("#husband_name_bn").removeAttr("required"),$("#husband_name_en").val(""),$("#husband_name_bn").val(""),$("#genderErr").removeAttr("style"),$(".errMess").hide()):2==e&&2==t?($("#wife").hide(),$("#wife_name_bn").removeAttr("required"),$("#wife_name_en").val(""),$("#wife_name_bn").val(""),$("#husband").show(),$("#husband_name_bn").attr("required","required"),$("#genderErr").removeAttr("style"),$(".errMess").hide()):($("#wife_name_en").val(""),$("#wife_name_bn").val(""),$("#wife_name_bn").removeAttr("required"),$("#husband_name_en").val(""),$("#husband_name_bn").val(""),$("#husband_name_bn").removeAttr("required"),$("#wife").hide(),$("#husband").hide(),$("#genderErr").removeAttr("style"),$(".errMess").hide())}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#marital_status").change((function(){var e=$(this).val(),t=$("input[name='gender']:checked").val();void 0===t&&(t=""),r(e,t)})),$("input[name='gender']").click((function(){var e=$("input[name='gender']:checked").val();r($("#marital_status").val(),e)})),$("#permanentBtn").click((function(){$(this).is(":checked")?(o=$("#permanent_district_id").html(),$("#permanent_village_bn").val($("#present_village_bn").val()),$("#permanent_rbs_bn").val($("#present_rbs_bn").val()),$("#permanent_village_en").val($("#present_village_en").val()),$("#permanent_rbs_en").val($("#present_rbs_en").val()),$("#permanent_holding_no").val($("#present_holding_no").val()),$("#permanent_ward_no").val($("#present_ward_no").val()),$("#permanent_district_id").html('<option value="'+$("#present_district_id").val()+'" selected="selected">'+$("#present_district_id option:selected").text()+"</option>"),$("#permanent_district").val($("#present_district").val()),$("#permanent_upazila_id").html('<option value="'+$("#present_upazila_id").val()+'" selected="selected">'+$("#present_upazila_id option:selected").text()+"</option>"),$("#permanent_upazila").val($("#present_upazila").val()),$("#permanent_postoffice_id").html('<option value="'+$("#present_postoffice_id").val()+'" selected="selected">'+$("#present_postoffice_id option:selected").text()+"</option>"),$("#permanent_postoffice").val($("#present_postoffice").val())):$(this).is(":not(:checked)")&&($("#permanent_village_bn").val(""),$("#permanent_rbs_bn").val(""),$("#permanent_village_en").val(""),$("#permanent_rbs_en").val(""),$("#permanent_holding_no").val(""),$("#permanent_ward_no").val(""),$("#permanent_district_id").html(o),$("#permanent_district").val("জেলা"),$("#permanent_upazila_id").html('<option value="" id="permanent_upazila_append">চিহ্নিত করুন</option>'),$("#permanent_upazila").val("উপজেলা/থানা"),$("#permanent_postoffice_id").html('<option value="" id="permanent_post_office_append">চিহ্নিত করুন</option>'),$("#permanent_postoffice").val("পোস্ট অফিস"))})),$("#search-btn").click((function(){let r=$("#search-data").val(),o=$("#union-id").val(),s=$("#web").val();function l(e,t){Swal.fire({title:"<strong>"+e+"</strong>",icon:"warning",html:t,showConfirmButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:'<i class="fa fa-print-up"></i> ঠিক আছে!',confirmButtonAriaLabel:"ঠিক আছে!"}).then((function(){location.reload(!0)}))}""!=$("#union-id").val()?($("#app_union_id_feedback").html(""),""==r?Swal.fire({icon:"error",title:"দুঃখিত !",text:"আপনি কোন তথ্য প্রদান করেন নি",confirmButtonText:"OK"}):$.ajax({type:"POST",url:e+"/api/check/exiting/application",data:{searchData:r,applicationType:s,unionId:o},success:function(r){let o="";if(r.sonodno)o=r.message+"<b>"+r.pin+"</b> এবং সনদ নং <b>"+r.sonodno+'</b> <br/><br/><a href="'+t+"/verify/"+r.application+"_bn/"+r.sonodno+"/"+r.unionid+"/"+r.type+'" type="button" class="btn btn-info" target="_blank">সনদটি বাংলায় প্রিন্ট করুন</a> <br/><br/> <a href="'+t+"/verify/"+r.application+"_en/"+r.sonodno+"/"+r.unionid+"/"+r.type+'" type="button" class="btn btn-info" target="_blank">সনদটি ইংরেজিতে প্রিন্ট করুন</a>',l(r.status,o);else if(r.tracking)o=r.message+"<b>"+r.pin+"</b> এবং ট্র্যাকিং নং <b>"+r.tracking+'</b> <br/><br/><a href="'+t+"/verify/"+r.application+"_application/"+r.tracking+"/"+r.unionid+"/"+r.type+'" type="button" class="btn btn-info" target="_blank">আবেদনটি প্রিন্ট করুন</a>',l(r.status,o);else if(r.status404)Swal.fire({icon:"error",title:"দুঃখিত...",text:r.status404,confirmButtonText:"ঠিক আছে"});else{1==r[1].gender&&2==r[1].marital_status?($("#wife").show(),$("#wife_name_bn").attr("required","required"),$("#husband").hide(),$("#husband_name_bn").removeAttr("required"),$("#husband_name_en").val(""),$("#husband_name_bn").val("")):2==r[1].gender&&2==r[1].marital_status&&($("#husband").show(),$("#husband_name_bn").attr("required","required"),$("#wife").hide(),$("#wife_name_bn").removeAttr("required"),$("#wife_name_en").val(""),$("#wife_name_bn").val("")),$.each(r[0],(function(e,t){$("#"+e).val(t),$("#"+e).prop("disabled",!0)})),a=r[0].pin,i=r[1].photo;let t=$("#web").val();$("#form-data").attr("data-route",e+"/api/"+n[Number(t)-1]),$(".image").attr("src",e+"/public/assets/images/application/"+r[1].photo),$("#gender_"+r[1].gender).attr("checked",!0),$(".gender").attr("disabled",!0),$(".wrap").css("opacity",".2"),$("#marital_status").val(r[1].marital_status),$("#sonaton").val(r[0].religion),$("#wife_name_en").val(r[1].wife_name_en),$("#wife_name_bn").val(r[1].wife_name_bn),$("#husband_name_en").val(r[1].husband_name_en),$("#husband_name_bn").val(r[1].husband_name_bn),$("#present_village_en").val(r[1].present_village_en),$("#present_village_bn").val(r[1].present_village_bn),$("#present_rbs_en").val(r[1].present_rbs_en),$("#present_rbs_bn").val(r[1].present_rbs_bn),$("#present_holding_no").val(r[1].present_holding_no),$("#present_ward_no").val(r[1].present_ward_no),$("#present_district_id").val(r[1].present_district_id),$("#present_district").val(r[1].present_district_name_bn),$("#present_upazila_id").html('<option value="'+r[1].present_upazila_id+'" selected="selected">'+r[1].present_upazila_name_en+"</option>"),$("#present_upazila").val(r[1].present_upazila_name_bn),$("#present_postoffice_id").html('<option value="'+r[1].present_postoffice_id+'" selected="selected">'+r[1].present_postoffice_name_en+"</option>"),$("#present_postoffice").val(r[1].present_postoffice_name_bn),$("#addressCheck").remove(),$("#permanent_district_id").val(r[1].permanent_district_id),$("#permanent_district_id").prop("disabled",!0),$("#permanent_district").val(r[1].permanent_district_name_bn),$("#permanent_upazila_id").html('<option value="'+r[1].permanent_upazila_id+'" selected="selected">'+r[1].permanent_upazila_name_en+"</option>"),$("#permanent_upazila_id").prop("disabled",!0),$("#permanent_upazila").val(r[1].permanent_upazila_name_bn),$("#permanent_postoffice_id").html('<option value="'+r[1].permanent_postoffice_id+'" selected="selected">'+r[1].permanent_postoffice_name_en+"</option>"),$("#permanent_postoffice_id").prop("disabled",!0),$("#permanent_postoffice").val(r[1].permanent_postoffice_name_bn)}},error:e=>{Swal.fire({icon:"error",title:"দুঃখিত...",text:"দুঃখিত! সার্ভার উপলব্ধ নয়।",confirmButtonText:"ঠিক আছে"})}})):$("#app_union_id_feedback").html("ইউনিয়ন সিলেক্ট করুন")})),$(":input").change((function(e){let t=$(this).attr("name");$("#"+t+"_status").removeClass("has-error has-feedback"),$("#"+t+"_feedback").text(""),e.preventDefault()})),$("#form-data").submit((function(e){let n=$("#nid").val(),r=$("#birth_id").val(),o=$("#passport_no").val();if(""==$("#union-id").val())return $("#app_union_id_feedback").html("ইউনিয়ন সিলেক্ট করুন"),!1;if($("#app_union_id_feedback").html(""),""==n&&""==r&&""==o)return $("#passport_no_status").addClass("has-error has-feedback"),$("#birth_id_status").addClass("has-error has-feedback"),$("#nid_status").addClass("has-error has-feedback"),$("#national_id_error").html('<span class="text-danger"><i class="ion-ios-star"></i> অনুগ্রহ করে ন্যাশনাল আইডি নং অথবা জন্ম নিবন্ধন নং অথবা পাসপোর্ট নং দিন ইংরেজিতে....</span>'),!1;{let n=$("#form-data").data("route"),r=new FormData($("#form-data")[0]);$.each($("input[name=photo]")[0].files,(function(e,t){r.append("file[]",t)})),r.append("is_photo",i),r.append("pin",a),$.each($("#form-data").serializeArray(),(function(e,t){$("#"+t.name+"_status").removeClass("has-error has-feedback"),$("#"+t.name+"_feedback").text("")})),$.ajax({type:"POST",url:n,enctype:"multipart/form-data",data:r,processData:!1,contentType:!1,cache:!1,timeout:6e4,beforeSend:function(){$("#submitBtn").attr("disabled","disabled"),$('<img id="loading_gif" src="'+t+'/public/assets/images/loding.gif" alt="loding.gif" style="position: relative;height: 50px;"></img>').insertAfter("#submitBtn")},success:function(e){e.niderror?Swal.fire({icon:"error",title:"দুঃখিত...",text:e.niderror,confirmButtonText:"ঠিক আছে"}):e.success?Swal.fire({title:"<strong>"+e.success+"</strong>",icon:"success",html:"আপনার পিন নং <b>"+e.pin+"</b>, এবং ট্র্যাকিং নং <b>"+e.tracking+'</b> <a href="'+t+"/verify/"+e.application+"/"+e.tracking+"/"+e.unionid+"/"+e.type+'" type="button" class="btn btn-info" target="_blank">আবেদনটি প্রিন্ট করুন</a> ',showConfirmButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:'<i class="fa fa-print-up"></i> ঠিক আছে!',confirmButtonAriaLabel:"ঠিক আছে!"}).then((function(){location.reload(!0)})):Swal.fire({icon:"error",title:"দুঃখিত...",text:e.error,confirmButtonText:"ঠিক আছে"})},error:function(e,t,n){if($("#submitBtn").removeAttr("disabled"),$("#loading_gif").remove(),Swal.fire({icon:"error",title:"দুঃখিত...",text:"আবেদন সম্পূর্ণ হয়নি!",confirmButtonText:"ঠিক আছে"}),$("#submitBtn").removeAttr("disabled"),e.responseText){let t=JSON.parse(e.responseText),n=(t.message,t.errors);$.each(n,(function(e,t){$("#"+e+"_status").addClass("has-error has-feedback"),$("#"+e+"_feedback").text(t)}))}}}),e.preventDefault()}}));let o=""})),$(document).ready((function(){let e=$("meta[name=url]").attr("content"),t=$("meta[name=district_id]").attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"get",url:e+"/geo/code/get",data:{id:t,type:3},success:function(e){var t="<option value=''>সিলেক্ট করুন</option>";e.upzilla.forEach((e=>{t+="<option value='"+e.id+"'>"+e.bn_name+"</option>"})),$("#app_upazila_id").html(t)},error:function(e){alert("error occur")}})}));