/*! flexnav https://github.com/indyplanets/flexnav http://unlicense.org/ 2013-11-28 */
(function(){var t;(t=jQuery).fn.flexNav=function(e){var n,i,s,a,o,l,h,r,u,d,c;return r=t.extend({animationSpeed:250,transitionOpacity:!0,buttonSelector:".menu-button",hoverIntent:!1,hoverIntentTimeout:150,calcItemWidths:!1,hover:!0},e),(n=t(this)).addClass("with-js"),!0===r.transitionOpacity&&n.addClass("opacity"),n.find("li").each((function(){return t(this).has("ul").length?t(this).addClass("item-with-ul").find("ul").hide():void 0})),!0===r.calcItemWidths&&(a=(i=n.find(">li")).length,o=100/a+"%"),n.data("breakpoint")&&(s=n.data("breakpoint")),u=function(){return!0===n.hasClass("lg-screen")&&!0===r.hover?!0===r.transitionOpacity?t(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},r.animationSpeed):t(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},r.animationSpeed):void 0},l=function(){return!0===n.hasClass("lg-screen")&&!0===t(this).find(">ul").hasClass("flexnav-show")&&!0===r.hover?!0===r.transitionOpacity?t(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},r.animationSpeed):t(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},r.animationSpeed):void 0},h=function(){var e;if(t(window).width()<=s)return n.removeClass("lg-screen").addClass("sm-screen"),!0===r.calcItemWidths&&i.css("width","100%"),e=r.buttonSelector+", "+r.buttonSelector+" .touch-button",t(e).removeClass("active"),t(".one-page li a").on("click",(function(){return n.removeClass("flexnav-show")}));if(t(window).width()>s){if(n.removeClass("sm-screen").addClass("lg-screen"),!0===r.calcItemWidths&&i.css("width",o),n.removeClass("flexnav-show").find(".item-with-ul").on(),t(".item-with-ul").find("ul").removeClass("flexnav-show"),l(),!0===r.hoverIntent)return t(".item-with-ul").hoverIntent({over:u,out:l,timeout:r.hoverIntentTimeout});if(!1===r.hoverIntent)return t(".item-with-ul").on("mouseenter",u).on("mouseleave",l)}},t(r.buttonSelector).data("navEl",n),c=".item-with-ul, "+r.buttonSelector,t(c).append('<span class="touch-button"><i class="navicon">&#9660;</i></span>'),d=r.buttonSelector+", "+r.buttonSelector+" .touch-button",t(d).on("click",(function(e){var n;return t(d).toggleClass("active"),e.preventDefault(),e.stopPropagation(),n=r.buttonSelector,(t(this).is(n)?t(this):t(this).parent(n)).data("navEl").toggleClass("flexnav-show")})),t(".touch-button").on("click",(function(){var e,i;return e=t(this).parent(".item-with-ul").find(">ul"),i=t(this).parent(".item-with-ul").find(">span.touch-button"),!0===n.hasClass("lg-screen")&&t(this).parent(".item-with-ul").siblings().find("ul.flexnav-show").removeClass("flexnav-show").hide(),!0===e.hasClass("flexnav-show")?(e.removeClass("flexnav-show").slideUp(r.animationSpeed),i.removeClass("active")):!1===e.hasClass("flexnav-show")?(e.addClass("flexnav-show").slideDown(r.animationSpeed),i.addClass("active")):void 0})),n.find(".item-with-ul *").focus((function(){return t(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),t(this).parent(".item-with-ul").find(">ul").addClass("open").show()})),h(),t(window).on("resize",h)}}).call(this);