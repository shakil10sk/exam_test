var url=$("meta[name = path]").attr("content"),csrf=$("mata[name = csrf-token]").attr("content");function account_balance(a,t,r){$("#main_balance").html(""),$("#sub_balance").html(""),$("#main_amount").val(""),$("#sub_amount").val(""),a>0&&$.ajax({url:url+"/accounts/account_balance",type:"POST",dataType:"JSON",data:{id:a},success:function(a){$("#"+t).html(a),$("#"+r).val(a)}})}function get_subcategoy(a,t,r,e){a>0&&($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:url+"/accounts/acc_subcategory",type:"POST",dataType:"JSON",data:{id:a},success:function(o){if(o.length>0){$("#"+r).css("display","block"),$("#"+e).css("display","block");var n="<option value='' >সিলেক্ট </option>";o.forEach((function(a){n+="<option value='"+a.id+"'>"+a.account_name+"</option>"})),$("#"+t).html(n),"from_subcategory"==t&&($("#main_balance").html(""),$("#main_amount").val(""))}else{"from_subcategory"==t&&account_balance(a,"main_balance","main_amount");n="<option value='' >সিলেক্ট </option>";$("#"+t).html(""),$("#"+r).css("display","none"),$("#"+e).css("display","none")}}}))}function daily_deposit_store(){var a=$("#from_category").val(),t=$("#from_subcategory").val(),r=$("#comment").val(),e=$("#to_category").val(),o=$("#to_subcategory").val(),n=parseFloat($("#amount").val()),c=$("#transfer_date").val(),m=$("#type").val(),l=parseFloat($("#main_amount").val()),_=parseFloat($("#sub_amount").val()),s=!1;l>0?l<n?($("#fund_error").html("প্রধান খাতে পর্যাপ্ত পরিমান টাকা নেই"),s=!0):($("#fund_error").html(" "),s=!1):_>0?_<n?($("#fund_error").html("সাব খাতে পর্যাপ্ত পরিমান টাকা নেই"),s=!0):($("#fund_error").html(" "),s=!1):$("#fund_error").html(" "),""==a?($("#from_category_error").html(" প্রধান খাত  প্রদান করুন"),s=!0):(""==t?($("#from_subcategory_error").html("সাব খাত  প্রদান করুন"),s=!0):$("#from_subcategory_error").html(""),$("#from_category_error").html("")),""==e?($("#to_category_error").html("প্রধান খাত  প্রদান করুন"),s=!0):(""==o?($("#to_subcategory_error").html("সাব খাত  প্রদান করুন"),s=!0):$("#to_subcategory_error").html(""),$("#to_category_error").html("")),t||o?$("#category_error").html(""):a>0&&e>0&&(a==e?($("#category_error").html("একই খাতে জমা অথবা খরচ করা যাবে না"),s=!0):$("#category_error").html("")),t>0&&o>0&&t==o?($("#subcategory_error").html("একই সাব খাতে জমা অথবা খরচ করা যাবে না"),s=!0):$("#subcategory_error").html(""),""==n||0==n?($("#amount_error").html("টাকার পরিমান"),s=!0):$("#amount_error").html(""),""==r?($("#comment_error").html("বিস্তারিত লিখুন"),s=!0):$("#comment_error").html(""),""==c?$("#transfer_date_error").html("তারিখ প্রদান করুন"):$("#transfer_date_error").html(""),0==s&&($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:url+"/accounts/daily_deposit_save",type:"POST",dataType:"JSON",data:{from_category:a,from_subcategory:t,to_category:e,to_subcategory:o,comment:r,amount:n,type:m,transfer_date:c},success:function(a){$("#main_balance").html(""),$("#sub_balance").html(""),$("#from_category").val(""),$("#from_subcategory").val(""),$("#comment").val(""),$("#to_category").val(""),$("#to_subcategory").val(""),$("#amount").val(""),swal({icon:a.status,text:a.message})}}))}$("#transfer_date").datepicker({language:"en",autoClose:!0,dateFormat:"yyyy-mm-dd"}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});