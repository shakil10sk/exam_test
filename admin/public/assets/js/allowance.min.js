$("document").ready((function(){let a,e,t=$("meta[name=path]").attr("content"),n=t+"/public/assets",o=$("#allowance").val(),l=$("meta[name=csrf-token]").attr("content");!function(o){a=$("#fromDate").val(),e=$("#toDate").val(),allowanceTable=$("#allowanceTable").DataTable({scrollCollapse:!0,autoWidth:!1,responsive:!0,serverSide:!0,processing:!0,lengthMenu:[[10,25,50,-1],["১০জন","২৫জন","৫০জন","সব"]],language:{info:"মোট _TOTAL_ ভাতার তালিকা -এর _START_-_END_ টি",infoFiltered:"(দেখাও _START_ থেকে _END_ পেজ -এর _TOTAL_ জন)",infoEmpty:"কোনো তথ্য পাওয়া যায়নি!",zeroRecords:"কোনো তথ্য পাওয়া যায়নি!",emptyTable:"কোনো তথ্য পাওয়া যায়নি!",processing:"প্রসেসিং...",loadingRecords:"লোডিং...",lengthMenu:"দেখাও _MENU_ জন",searchPlaceholder:"সার্চ করুন",paginate:{previous:"প্রিভিউস",next:"পরবর্তী",first:"প্রথম",last:"শেষ"}},ajax:{dataType:"JSON",type:"post",url:t+"/management/allowance/get",data:{fromDate:a,toDate:e,type:o,_token:l}},columns:[{data:null,render:function(){return allowanceTable.page.info().start+allowanceTable.column(0).nodes().length}},{data:null,render:function(a){return a.photo?"<img width='50' src='"+n+"/images/allowance/"+a.photo+"' class='img-circle img-responsive' />":"<img width='50' src='"+n+"/images/allowance/defult_user.jpg' class='img-circle img-responsive' />"}},{data:"name"},{data:"nid"},{data:"father_name"},{data:"mobile"},{data:"ward_no"},{data:"amount_of_allowance"},{data:null,render:function(a){let e="",n="",o="",i="",c="";return $("#edit-vata").val()&&(e='<a href="'+t+"/management/allowance/edit/"+a.id+'" class="btn btn-outline-primary"><i class="icon-copy fa fa-pencil-square-o" aria-hidden="true"></i> এডিট করুন</a>'),$("#vata-payment").val()&&(i='<button type="button" class="btn btn-outline-info" onclick="vataPaymentForm('+a.id+')" ><i class="icon-copy fa fa-money" aria-hidden="true"></i> ভাতা প্রদান</button>'),$("#vata-profile").val()&&(c='<a href="'+t+"/management/allowance/profile/"+a.type+"/"+a.id+'" class="btn btn-outline-info"><i class="icon-copy fa fa-vcard-o" aria-hidden="true"></i> প্রোফাইল</a>'),$("#delete-vata").val()&&(n='<button type="button" class="btn btn-outline-warning" onclick="warning($(this).val())" value="'+a.id+'"><i class="icon-copy fa fa-trash-o" aria-hidden="true"></i> ডিলিট</button>',o='<form id="delete-form_'+a.id+'" action="'+t+'/management/allowance/delete" method="POST" style="display: none;"><input type="hidden" name="id" value="'+a.id+'"><input type="hidden" name="_token" value="'+l+'"></form>'),'<div class="btn-group">'+e+i+c+n+"</div>"+o}}],dom:"Bfrtip",buttons:["copy","csv","pdf","print"]})}(o)})),$("#fromDate, #toDate, #allowance_date").datepicker({language:"en",autoClose:!0,dateFormat:"yyyy-mm-dd"});let loc=$("meta[name=path]").attr("content");function allowanceListSearch(){fromDate=$("#fromDate").val(),toDate=$("#toDate").val(),$("#allowanceTable").dataTable().fnSettings().ajax.data.fromDate=fromDate,$("#allowanceTable").dataTable().fnSettings().ajax.data.toDate=toDate,allowanceTable.ajax.reload()}function vataPaymentForm(a){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"POST",url:loc+"/management/allowance/get/info",beforeSend:function(){$(".pre-loader").fadeToggle("medium")},complete:function(){$(".pre-loader").fadeOut()},data:{id:a},success:function(a){1==a.type?$("#heading").text(" মুক্তিযোদ্ধা ভাতা প্রদান"):2==a.type?$("#heading").text(" দুস্থ ও দরিদ্র ভাতা প্রদান"):3==a.type?$("#heading").text(" বয়স্ক ভাতা প্রদান"):4==a.type?$("#heading").text(" মাতৃত্যকালিন ভাতা প্রদান"):5==a.type?$("#heading").text(" বিধবা ভাতা প্রদান"):6==a.type?$("#heading").text(" প্রতিবন্ধী ভাতা প্রদান"):7==a.type&&$("#heading").text(" ভি জি ডি ভাতা প্রদান"),$("#name").val(a.name),$("#allowance_id").val(a.allowance_id),$("#allowance_id").val(a.allowance_id),$("#type").val(a.type),$("#vata-payment-form").modal()}})}function warning(a){swal({title:"ডিলিট!",text:"আপনি কি ডিলিট করতে চান?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",confirmButtonText:"হ্যাঁ, ডিলিট!",cancelButtonText:"বাতিল"}).then((function(e){e.value&&swal("মোছা হয়েছে!","আপনার ফাইলটি মুছে ফেলা হয়েছে।","success").then((function(){$("#delete-form_"+a).submit()}))}))}